### Snapshots

Snapshots can be created to periodically back up data from your instances.

#### List snapshots

```shell
curl -X GET \
  -H 'MC-Api-key: your_api_key'
  "https://portal.coxedge.com/api/v2/services/gcp/test-area/snapshots"
```
> The above command returns a JSON structured like this:

```json
{
  "data": [
    {
      "description": "This is a snapshot description",
      "creationTimestamp": "2020-06-17T08:02:34.132-07:00",
      "status": "READY",
      "sourceDisk": "https://www.googleapis.com/compute/v1/projects/testarea/zones/northamerica-northeast1-a/disks/source-instance-name",
      "sourceDiskId": "7481902077681239049",
      "diskSizeGb": "10",
      "storageBytes": "932828192",
      "storageBytesStatus": "UP_TO_DATE",
      "licenses": [
        "https://www.googleapis.com/compute/v1/projects/debian-cloud/global/licenses/debian-9-stretch"
      ],
      "selfLink": "https://www.googleapis.com/compute/v1/projects/testarea/global/snapshots/snapshot-1",
      "labels": {
        "sampleLabel": "label value"
      },
      "labelFingerprint": "6gSwJq6EkEI=",
      "licenseCodes": [
        "1023205"
      ],
      "storageLocations": [
        "us"
      ],
      "kind": "compute#snapshot",
      "downloadBytes": "932822788",
      "id": "7059283128121212212",
      "name": "snapshot-1"
    },
  ],
  "metadata": {
    "recordCount": 1
  }
}
```

<code>
   GET /service/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/snapshots
</code>

Retrieve a list of all snapshots.

Attributes | &nbsp;
------- | -----------
`description` <br/>*string* | The snapshot description.
`creationTimestamp` <br/>*string* | Creation timestamp in RFC3339 text format.
`status` <br/>*string* | The status of the snapshot. One of the following values: CREATING, DELETING, FAILED, READY, or UPLOADING.
`sourceDisk` <br/>*string* | The source disk used to create this snapshot.
`sourceDiskId` <br/>*string* | The ID value of the disk used to create this snapshot.
`diskSizeGb` <br/>*string* | Size of the source disk, specified in GB.
`storageBytes` <br/>*string* | A size of the storage used by the snapshot.
`storageBytesStatus` <br/>*string* | An indicator whether storageBytes is in a stable state or it is being adjusted as a result of shared storage reallocation. This status can either be UPDATING, meaning the size of the snapshot is being updated, or UP_TO_DATE, meaning the size of the snapshot is up-to-date.
`licenses` <br/>*Array[string]* | A list of public visible licenses that apply to this snapshot.
`selfLink` <br/>*string* | Server-defined URL for the resource.
`labels` <br/>*Object* | Mapped object containing labels applied to this snapshot. Label values may be empty.
`labelFingerprint` <br/>*string* | A fingerprint for the labels being applied to this snapshot. Initially generated by Compute Engine and changes after every request to modify or update labels.
`licenseCodes` <br/>*Array[string]* | Integer license codes indicating which licenses are attached to this snapshot.
`storageLocations` <br/>*Array[string]* | Cloud Storage bucket storage location of the snapshot (regional or multi-regional).
`kind` <br/>*string* | Type of the resource. Always compute#snapshot for Snapshot resources.
`downloadBytes` <br/>*string* | Number of bytes downloaded to restore a snapshot to a disk.
`id` <br/>*string* | The unique identifier for the resource. This identifier is defined by the server.
`name` <br/>*string* | Name of the resource; provided by the client when the resource is created. 

<!-------------------- RETRIEVE A SNAPSHOT -------------------->

#### Retrieve a snapshot

```shell
curl -X GET \
   -H "MC-Api-Key: your_api_key" \
   "https://portal.coxedge.com/api/v2/services/gcp/test-area/snapshots/7059283128121212212"
```
> The above command returns a JSON structured like this:

```json
{
  "data": {
      "description": "This is a snapshot description",
      "creationTimestamp": "2020-06-17T08:02:34.132-07:00",
      "status": "READY",
      "sourceDisk": "https://www.googleapis.com/compute/v1/projects/testarea/zones/northamerica-northeast1-a/disks/source-instance-name",
      "sourceDiskId": "7481902077681239049",
      "diskSizeGb": "10",
      "storageBytes": "932828192",
      "storageBytesStatus": "UP_TO_DATE",
      "licenses": [
        "https://www.googleapis.com/compute/v1/projects/debian-cloud/global/licenses/debian-9-stretch"
      ],
      "selfLink": "https://www.googleapis.com/compute/v1/projects/testarea/global/snapshots/snapshot-1",
      "labels": {
        "sampleLabel": "label value"
      },
      "labelFingerprint": "6gSwJq6EkEI=",
      "licenseCodes": [
        "1023205"
      ],
      "storageLocations": [
        "us"
      ],
      "kind": "compute#snapshot",
      "downloadBytes": "932822788",
      "id": "7059283128121212212",
      "name": "snapshot-1"
  }
}
```

<code>GET /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/snapshots/:id</code>

Retrieve a specific snapshot by id.

Attributes | &nbsp;
------- | -----------
`description` <br/>*string* | The snapshot description.
`creationTimestamp` <br/>*string* | Creation timestamp in RFC3339 text format.
`status` <br/>*string* | The status of the snapshot. One of the following values: CREATING, DELETING, FAILED, READY, or UPLOADING.
`sourceDisk` <br/>*string* | The source disk used to create this snapshot.
`sourceDiskId` <br/>*string* | The ID value of the disk used to create this snapshot.
`diskSizeGb` <br/>*string* | Size of the source disk, specified in GB.
`storageBytes` <br/>*string* | A size of the storage used by the snapshot.
`storageBytesStatus` <br/>*string* | An indicator whether storageBytes is in a stable state or it is being adjusted as a result of shared storage reallocation. This status can either be UPDATING, meaning the size of the snapshot is being updated, or UP_TO_DATE, meaning the size of the snapshot is up-to-date.
`licenses` <br/>*Array[string]* | A list of public visible licenses that apply to this snapshot.
`selfLink` <br/>*string* | Server-defined URL for the resource.
`labels` <br/>*Object* | Mapped object containing labels applied to this snapshot. Label values may be empty.
`labelFingerprint` <br/>*string* | A fingerprint for the labels being applied to this snapshot. Initially generated by Compute Engine and changes after every request to modify or update labels.
`licenseCodes` <br/>*Array[string]* | Integer license codes indicating which licenses are attached to this snapshot.
`storageLocations` <br/>*Array[string]* | Cloud Storage bucket storage location of the snapshot (regional or multi-regional).
`kind` <br/>*string* | Type of the resource. Always compute#snapshot for Snapshot resources.
`downloadBytes` <br/>*string* | Number of bytes downloaded to restore a snapshot to a disk.
`id` <br/>*string* | The unique identifier for the resource. This identifier is defined by the server.
`name` <br/>*string* | Name of the resource; provided by the client when the resource is created. 

<!-------------------- CREATE A SNAPSHOT -------------------->

#### Create a snapshot

See [take a snapshot of a disk](#gcp-take-a-snapshot-of-a-disk) to create a snapshot.

<!-------------------- DELETE A SNAPSHOT -------------------->

#### Delete a snapshot

```shell
curl -X DELETE \
   -H "MC-Api-Key: your_api_key" \
   "https://portal.coxedge.com/api/v2/services/gcp/test-area/snapshots/463325715266630842"
```

<code>DELETE /services/<a href="#administration-service-connections">:service_code</a>/<a href="#administration-environments">:environment_name</a>/snapshots/:id</code>

Destroy an existing snapshot. A snapshot can only be deleted if it is in READY state.
